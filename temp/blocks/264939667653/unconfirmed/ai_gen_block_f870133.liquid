{% doc %}
  @prompt
    Create a simple section with paragraph text and a button. Make them evenly spaced apart on the same line of the page. The can wrap vertically on mobile, with the paragraph text above the button, but on desktop they should be on the same line.
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-text-button-container-{{ ai_gen_id }} {
    display: block;
    width: 100%;
  }

  .ai-text-button-wrapper-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 20px;
    padding: {{ block.settings.padding_vertical }}px {{ block.settings.padding_horizontal }}px;
    background-color: {{ block.settings.background_color }};
  }

  .ai-text-button-text-{{ ai_gen_id }} {
    flex: 1;
    color: {{ block.settings.text_color }};
    font-size: {{ block.settings.text_size }}px;
    line-height: 1.5;
  }

  .ai-text-button-button-{{ ai_gen_id }} {
    flex-shrink: 0;
    padding: {{ block.settings.button_padding_vertical }}px {{ block.settings.button_padding_horizontal }}px;
    background-color: {{ block.settings.button_background_color }};
    color: {{ block.settings.button_text_color }};
    border: none;
    border-radius: {{ block.settings.button_border_radius }}px;
    font-size: {{ block.settings.button_text_size }}px;
    text-decoration: none;
    cursor: pointer;
    transition: background-color 0.3s ease;
    display: inline-block;
    text-align: center;
  }

  .ai-text-button-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_background_color }};
    color: {{ block.settings.button_hover_text_color }};
  }

  @media screen and (max-width: 749px) {
    .ai-text-button-wrapper-{{ ai_gen_id }} {
      flex-direction: column;
      align-items: stretch;
      gap: 16px;
    }

    .ai-text-button-button-{{ ai_gen_id }} {
      width: 100%;
    }
  }
{% endstyle %}

<div class="ai-text-button-container-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-text-button-wrapper-{{ ai_gen_id }}">
    {% if block.settings.text != blank %}
      <div class="ai-text-button-text-{{ ai_gen_id }}">
        {{ block.settings.text }}
      </div>
    {% endif %}

    {% if block.settings.button_text != blank %}
      <a
        href="{{ block.settings.button_link }}"
        class="ai-text-button-button-{{ ai_gen_id }}"
      >
        {{ block.settings.button_text }}
      </a>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Text with button",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Text"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text",
      "default": "<p>Add your paragraph text here. This will appear on the left side on desktop and above the button on mobile.</p>"
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Text size",
      "default": 16
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#4a494b"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Click here"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "range",
      "id": "button_text_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Button text size",
      "default": 14
    },
    {
      "type": "range",
      "id": "button_padding_vertical",
      "min": 8,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Vertical padding",
      "default": 12
    },
    {
      "type": "range",
      "id": "button_padding_horizontal",
      "min": 16,
      "max": 48,
      "step": 4,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 24
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 0
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Background color",
      "default": "#4a494b"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_hover_background_color",
      "label": "Hover background color",
      "default": "#272724"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Hover text color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "padding_vertical",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Vertical padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_horizontal",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 40
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "desktop_width_percent",
      "label": "Desktop width",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 100
    }
  ],
  "presets": [
    {
      "name": "Text with button"
    }
  ]
}
{% endschema %}
