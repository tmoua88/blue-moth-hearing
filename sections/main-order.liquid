{{ 'customer.css' | asset_url | stylesheet_tag }}

{%- style -%}
	{% render 'section-margin' %}
{%- endstyle -%}

<div class='customer account order'>
	<div class='container'>
		<div class='page-header'>
			<div class='page-header__inner'>
				<div class='customer__top'>
					{% assign heading_tag = section.settings.section_heading_tag %}
					<{{ heading_tag }} class='main-page-title page-title title--page h1'>
						{{ 'customer.order.title_1' | t }}
					</{{ heading_tag }}>
					<a
						class='title-link button--routing'
						href='{{ routes.account_url }}'
					>
						<span>{{ 'customer.account.return' | t }}</span>
						<svg
							width='6'
							height='9'
							viewBox='0 0 6 9'
							fill='none'
							xmlns='http://www.w3.org/2000/svg'
						>
							<path d="M1.25 8.25L4.75 4.75L1.25 1.25" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					</a>
				</div>
			</div>
		</div>
		<div class='account__wrapper account__wrapper--between'>
			<div class='account__left account__left--table'>
				<div class='account__order-info'>
					<h4 class='account__subtitle h3'>
						{{ 'customer.order.title' | t: name: order.name }}
					</h4>
					<span>
						{{ 'customer.order.placed_on' | t }}
						{{ order.created_at | time_tag: format: 'date_at_time' }}
					</span>

					{%- if order.cancelled -%}
						{%- assign cancelled_at = order.cancelled_at
							| time_tag: format: 'date_at_time'
						-%}
						<span>
							{{ 'customer.order.cancelled_html' | t: date: cancelled_at }}
							{{
								'customer.order.cancelled_reason'
								| t: reason: order.cancel_reason_label
							}}
						</span>
					{%- endif -%}
				</div>
				<div role='table' class='order-table order-table--details'>
					<div class='visually-hidden'>
						{{ 'customer.order.title' | t: name: order.name }}
					</div>
					<div class='row thead'>
						<div id='ColumnProduct'>{{ 'customer.order.product' | t }}</div>
						<div id='ColumnSku'>{{ 'customer.order.sku' | t }}</div>
						<div id='ColumnPrice'>{{ 'customer.order.price' | t }}</div>
						<div id='ColumnQuantity'>{{ 'customer.order.quantity' | t }}</div>
						<div id='ColumnTotal'>{{ 'customer.order.total' | t }}</div>
					</div>

					{%- for line_item in order.line_items -%}
						<div class='row tbody'>
							<div
								id='Row{{ line_item.key }}'
								data-label='{{ 'customer.order.product' | t }}'
							>
								<div class='order-product'>
									{% if line_item.product.featured_image %}
										<div class='order-product__media'>
											<div
												class='order-product__media-wrapper'
												style='--aspect-ratio: 1/1;'
											>
												{% assign width_ratio = 1 %}
												{% if line_item.product.featured_image.width
														< line_item.product.featured_image.height
												%}
													{% assign width_ratio = 1 %}
												{% elsif line_item.product.featured_image.width
														> line_item.product.featured_image.height
												%}
													{% assign width_ratio = line_item.product.featured_image.width
														| plus: 0.0
														| divided_by: line_item.product.featured_image.height
														| round: 2
													%}
												{% endif %}
												{% assign width = 340 | times: width_ratio %}

												<a
													href='{{ line_item.product.url }}'
													class='order-product__link'
													aria-label='{{ 'accessibility.product_link' | t }}'
												></a>
												<img
													class='order-product__image'
													src='{{ line_item.product.featured_image | image_url: width: width }}'
													alt='{{ line_item.product.featured_image.alt | escape }}'
													loading='lazy'
													width='{{ width }}'
													height='auto'
												>
											</div>
										</div>
									{% endif %}
									<div class='order-product__details'>
										{%- if line_item.product.vendor != blank -%}
											<p class='card__subtitle'>
												{{ line_item.product.vendor }}
											</p>
										{%- endif -%}
										{%- if line_item.product.url != blank -%}
											<a
												href='{{ line_item.product.url }}'
												class='order-product__name order-product__name--link'
											>
												{{ line_item.product.title }}
											</a>
										{%- else -%}
											<p class='order-product__name'>
												{{ line_item.product.title }}
											</p>
										{%- endif -%}

										{%- assign property_size = line_item.properties | size -%}
										{%- if line_item.product.has_only_default_variant == false
											or property_size != 0
											or line_item.selling_plan_allocation != null
										-%}
											<div class='properties'>
												{%- unless line_item.product.has_only_default_variant -%}
													{%- for option in line_item.options_with_values -%}
														{% liquid
															assign color_trigger = settings.trigger_swatch | handle | strip
															assign name_option = option.name | handle | strip
															if settings.type_color_swatch == 'custom' and color_trigger == name_option
																assign color_value = option.value | handle | strip
																assign color_value_custom = color_value | remove: '-'
																if settings.custom_colors != blank
																	assign custom_colors_string = settings.custom_colors | strip
																	assign custom_colors_obj = custom_colors_string | newline_to_br | split: '<br />'
																	for obj in custom_colors_obj
																		assign obj_strip = obj | strip
																		assign obj_key = obj_strip | split: ':' | first
																		assign obj_value = obj_strip | split: ':' | last
																		assign obj_color_name = obj_key | handle | strip
																		if color_value == obj_color_name
																			assign obj_color_value = obj_value | strip
																			if obj_color_value contains 'gradient'
																				assign color_value_custom = obj_color_value
																			else
																				assign color_value_custom = obj_color_value | remove: '-'
																			endif
																			break
																		endif
																	endfor
																endif
															elsif settings.type_color_swatch == 'standart'
																assign swatch_value = null
																assign swatch = option.value.swatch
																if swatch.image
																	assign image_url = swatch.image | image_url: width: 50
																	assign swatch_value = 'url(' | append: image_url | append: ')'
																	assign swatch_focal_point = swatch.image.presentation.focal_point
																elsif swatch.color
																	assign swatch_value = 'rgb(' | append: swatch.color.rgb | append: ')'
																endif
															endif
														%}
														<span
															class='product-option body-xs properties__item {% if settings.type_color_swatch == 'custom' and color_trigger == name_option %} product-option--color{% endif %}'
															{% if settings.type_color_swatch == 'custom'
																and color_trigger == name_option
															%}
																style='--swatch-color: {{ color_value_custom }}'
															{% elsif settings.type_color_swatch == 'standart' and swatch_value != null %}
																style='--swatch-color: {{ swatch_value }}; --swatch-focal-point: {{ swatch_focal_point }};'
															{% endif %}
														>
															{% if settings.type_color_swatch == 'custom'
																and color_trigger == name_option
															%}
																<div
																	class='color-circle'
																></div>
															{% elsif settings.type_color_swatch == 'standart' and swatch_value != null %}
																<div
																	class='color-circle'
																></div>
															{% else %}
																<dt class='properties__name'>
																	{{ option.name }}:
																</dt>
															{% endif %}

															<dd class='properties__value'>
																{{ option.value -}}
															</dd>
														</span>
													{%- endfor -%}
												{%- endunless -%}
												{%- unless line_item.selling_plan_allocation == null -%}
													<span>
														{{ line_item.selling_plan_allocation.selling_plan.name }}
													</span>
												{%- endunless -%}
											</div>
										{%- endif -%}

										{%- if line_item.line_level_discount_allocations.size != 0
										-%}
											<ul
												role='list'
												aria-label='{{ 'customer.order.discount' | t }}'
												class='list-unstyled discounts'
											>
												{%- for discount_allocation in line_item.line_level_discount_allocations -%}
													<li class='discounts__discount'>
														{% render 'icon-discount' %}
														{{- discount_allocation.discount_application.title }}
														(-
														{{- discount_allocation.amount | money -}}
														)
													</li>
												{%- endfor -%}
											</ul>
										{%- endif -%}
									</div>
								</div>
							</div>
							<div data-label='{{ 'customer.order.sku' | t }}'>
								{%- if line_item.sku != blank -%}
									{{ line_item.sku }}
								{%- else -%}
									â€“
								{%- endif -%}
							</div>
							<div data-label='{{ 'customer.order.price' | t }}'>
								{%- if line_item.original_price != line_item.final_price
									or line_item.unit_price_measurement
								-%}
									<div>
										{%- if line_item.original_price != line_item.final_price -%}
											<div>
												<span class='visually-hidden'>
													{{- 'products.product.price.sale_price' | t -}}
												</span>
											</div>
											<div>
												<span>
													{% if settings.currency_code_enabled %}
														{{ line_item.final_price | money_with_currency }}
													{% else %}
														{{ line_item.final_price | money }}
													{% endif %}
												</span>
											</div>
											<div>
												<span class='visually-hidden'>
													{{- 'products.product.price.regular_price' | t -}}
												</span>
											</div>
											<div class='order-table__old-price'>
												<s>
													{% if settings.currency_code_enabled %}
														{{ line_item.original_price | money_with_currency }}
													{% else %}
														{{ line_item.original_price | money }}
													{% endif %}
												</s>
											</div>
										{%- else -%}
											<div>
												<span class='visually-hidden'>
													{{- 'products.product.price.regular_price' | t -}}
												</span>
											</div>
											<div>
												{% if settings.currency_code_enabled %}
													{{ line_item.original_price | money_with_currency }}
												{% else %}
													{{ line_item.original_price | money }}
												{% endif %}
											</div>
										{%- endif -%}
										{%- if line_item.unit_price_measurement -%}
											<div>
												<span class='visually-hidden'>
													{{- 'products.product.price.unit_price' | t -}}
												</span>
											</div>
											<div>
												<span>
													{%- capture unit_price_separator -%}
                            <span aria-hidden="true">/</span>
                            <span class="visually-hidden">{{ 'accessibility.unit_price_separator' | t }}&nbsp;</span>
                          {%- endcapture -%}
													{%- capture unit_price_base_unit -%}
                            {%- if line_item.unit_price_measurement.reference_value != 1 -%}
                              {{- line_item.unit_price_measurement.reference_value -}}
                            {%- endif -%}
                            {{ line_item.unit_price_measurement.reference_unit }}
                          {%- endcapture -%}
													<span data-unit-price>
														{% if settings.currency_code_enabled %}
															{{- line_item.unit_price | money_with_currency -}}
														{% else %}
															{{- line_item.unit_price | money -}}
														{% endif %}
													</span>
													{{- unit_price_separator -}}
													{{- unit_price_base_unit -}}
												</span>
											</div>
										{%- endif -%}
									</div>
								{%- else -%}
									<span>
										{% if settings.currency_code_enabled %}
											{{- line_item.final_price | money_with_currency }}
										{% else %}
											{{- line_item.final_price | money }}
										{% endif %}
									</span>
								{%- endif -%}
							</div>
							<div data-label='{{ 'customer.order.quantity' | t }}'>
								{{ line_item.quantity }}
							</div>
							<div data-label='{{ 'customer.order.total' | t }}'>
								{%- if line_item.original_line_price
										!= line_item.final_line_price
								-%}
									<div>
										<div>
											<span class='visually-hidden'>
												{{- 'products.product.price.sale_price' | t -}}
											</span>
										</div>
										<div>
											<span>
												{% if settings.currency_code_enabled %}
													{{-
														line_item.final_line_price
														| money_with_currency
													}}
												{% else %}
													{{- line_item.final_line_price | money }}
												{% endif %}
											</span>
										</div>
										<div>
											<span class='visually-hidden'>
												{{- 'products.product.price.regular_price' | t -}}
											</span>
										</div>
										<div class='order-table__old-price'>
											<s>
												{% if settings.currency_code_enabled %}
													{{-
														line_item.original_line_price
														| money_with_currency
													}}
												{% else %}
													{{- line_item.original_line_price | money }}
												{% endif %}
											</s>
										</div>
									</div>
								{%- else -%}
									{% if settings.currency_code_enabled %}
										{{ line_item.original_line_price | money_with_currency }}
									{% else %}
										{{ line_item.original_line_price | money }}
									{% endif %}
								{%- endif -%}
							</div>
						</div>
					{%- endfor -%}
				</div>

				<div role='table' class='order-table order-table--total'>
					<div class='row tbody'>
						<span>{{ 'customer.order.subtotal' | t }}</span>
						<span>
							{% if settings.currency_code_enabled %}
								{{ order.line_items_subtotal_price | money_with_currency }}
							{% else %}
								{{ order.line_items_subtotal_price | money }}
							{% endif %}
						</span>
					</div>
					{%- for shipping_method in order.shipping_methods -%}
						<div class='row tbody'>
							<span id='RowShipping'>
								{{- 'customer.order.shipping' | t }} (
								{{- shipping_method.title -}}
								)
							</span>
							<span data-label='{{ 'customer.order.shipping' | t }} ({{ shipping_method.title }})'>
								{% if settings.currency_code_enabled %}
									{{ shipping_method.price | money_with_currency }}
								{% else %}
									{{ shipping_method.price | money }}
								{% endif %}
							</span>
						</div>
					{%- endfor -%}
					{%- if order.cart_level_discount_applications != blank -%}
						{%- for discount_application in order.cart_level_discount_applications -%}
							<div class='row tbody'>
								<span>
									{{ 'customer.order.discount' | t }}
									<span class='cart-discount'>
										{% render 'icon-discount' %}
										{{- discount_application.title -}}
									</span>
								</span>
								<span
									>-
									{% if settings.currency_code_enabled %}
										{{
											discount_application.total_allocated_amount
											| money_with_currency
										}}
									{% else %}
										{{ discount_application.total_allocated_amount | money }}
									{% endif %}
								</span>
							</div>
						{%- endfor -%}
					{%- endif -%}
					{%- for tax_line in order.tax_lines -%}
						<div class='row tbody'>
							<span id='RowTax'>
								{{- 'customer.order.tax' | t }} ({{ tax_line.title }}
								{{ tax_line.rate | times: 100 }}%)
							</span>
							<span data-label='{{ 'customer.order.tax' | t }} ({{ tax_line.title }} {{ tax_line.rate | times: 100 }}%)'>
								{% if settings.currency_code_enabled %}
									{{ tax_line.price | money_with_currency }}
								{% else %}
									{{ tax_line.price | money }}
								{% endif %}
							</span>
						</div>
					{%- endfor -%}
					{%- if order.total_duties -%}
						<div class='row tbody'>
							<span id='RowDuties'>
								{{- 'customer.orders.total_duties' | t -}}
							</span>
							<span data-label='{{ 'customer.orders.total_duties' | t }}'>
								{{ order.total_duties | money }}
							</span>
						</div>
					{%- endif -%}
					{%- if order.total_refunded_amount > 0 -%}
						<div class='row tbody'>
							<span id='RowTotalRefund'>
								{{ 'customer.orders.total_refunded' | t }}
							</span>
							<span data-label='{{ 'customer.orders.total_refunded' | t }}'>
								{% if settings.currency_code_enabled %}
									{{ order.total_refunded_amount | money_with_currency }}
								{% else %}
									{{ order.total_refunded_amount | money }}
								{% endif %}
							</span>
						</div>
					{%- endif -%}
				</div>
				<div class='row tbody order-total-amount'>
					<span id='RowTotal'>{{ 'customer.order.total' | t }}</span>
					<span data-label='{{ 'customer.order.total' | t }}'>
						{{ order.total_net_amount | money_with_currency }}
					</span>
				</div>
			</div>
			<div class='account__right'>
				{%- if order.billing_address != null -%}
					<h4 class='account__subtitle h3'>
						{{ 'customer.order.billing_address' | t }}
					</h4>
				{%- endif -%}
				<div class='address-list__item' data-address>
					<div class='address-list__item-inner'>
						<div class='address-list__item-wrapper'>
							<h5 class='h4 address-list__item-title'>
								<span>
									{{- 'customer.order.payment_status' | t }}:
									{{ order.financial_status_label -}}
								</span>
							</h5>
							{%- if order.billing_address != null -%}
								<ul class='address-list-lines list-unstyled'>
									{%- if order.billing_address.name != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.name' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.billing_address.name -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.billing_address.address1 != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.address1' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.billing_address.address1 -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.billing_address.address2 != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.address2' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.billing_address.address2 -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.billing_address.city != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.city' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.billing_address.city -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.billing_address.province != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.province' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.billing_address.province -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.billing_address.zip != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.zip' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.billing_address.zip -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.billing_address.country != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.country' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.billing_address.country -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.billing_address.company != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.company' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.billing_address.company -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.billing_address.phone != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.phone' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.billing_address.phone -}}
											</span>
										</li>
									{%- endif -%}
								</ul>
							{%- endif -%}
						</div>
					</div>
				</div>
				{%- if order.shipping_address != null -%}
					<h4 class='account__subtitle h3'>
						{{ 'customer.order.shipping_address' | t }}
					</h4>
				{%- endif -%}
				<div class='address-list__item' data-address>
					<div class='address-list__item-inner'>
						<div class='address-list__item-wrapper'>
							<h5 class='h4 address-list__item-title'>
								<span>
									{{- 'customer.order.fulfillment_status' | t }}:
									{{ order.fulfillment_status_label -}}
								</span>
							</h5>
							{%- if order.shipping_address != null -%}
								<ul class='address-list-lines list-unstyled'>
									{%- if order.shipping_address.name != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.name' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.shipping_address.name -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.shipping_address.address1 != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.address1' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.shipping_address.address1 -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.shipping_address.address2 != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.address2' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.shipping_address.address2 -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.shipping_address.city != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.city' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.shipping_address.city -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.shipping_address.province != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.province' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.shipping_address.province -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.shipping_address.zip != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.zip' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.shipping_address.zip -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.shipping_address.country != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.country' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.shipping_address.country -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.shipping_address.company != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.company' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.shipping_address.company -}}
											</span>
										</li>
									{%- endif -%}

									{%- if order.shipping_address.phone != blank -%}
										<li class='address-list-lines__item'>
											<span class='address-list-lines__name'>
												{{- 'customer.addresses.phone' | t -}}
											</span>
											<span class='address-list-lines__value'>
												{{- order.shipping_address.phone -}}
											</span>
										</li>
									{%- endif -%}
								</ul>
							{%- endif -%}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

{% schema %}
{
	"name": "t:sections.main-order.name",
	"class": "spaced-section",
	"settings": [
		{
			"type": "select",
			"id": "section_heading_tag",
			"label": "t:sections.all.heading.tag",
			"options": [
				{
					"value": "h1",
					"label": "H1"
				},
				{
					"value": "h2",
					"label": "H2"
				},
				{
					"value": "h3",
					"label": "H3"
				},
				{
					"value": "h4",
					"label": "H4"
				},
				{
					"value": "h5",
					"label": "H5"
				},
				{
					"value": "h6",
					"label": "H6"
				},
				{
					"value": "div",
					"label": "div"
				},
				{
					"value": "p",
					"label": "p"
				},
				{
					"value": "span",
					"label": "span"
				}
			],
			"default": "h1"
		},
		{
			"type": "header",
			"content": "t:sections.all.section-margin.header.content"
		},
		{
			"type": "select",
			"id": "margin_top",
			"options": [
				{
					"value": "no-indent",
					"label": "t:sections.all.section-margin.options__1.label"
				},
				{
					"value": "xs",
					"label": "t:sections.all.section-margin.options__2.label"
				},
				{
					"value": "s",
					"label": "t:sections.all.section-margin.options__3.label"
				},
				{
					"value": "m",
					"label": "t:sections.all.section-margin.options__4.label"
				},
				{
					"value": "l",
					"label": "t:sections.all.section-margin.options__5.label"
				},
				{
					"value": "xl",
					"label": "t:sections.all.section-margin.options__6.label"
				}
			],
			"default": "no-indent",
			"label": "t:sections.all.section-margin.margin_top.label"
		},
		{
			"type": "select",
			"id": "margin_bottom",
			"options": [
				{
					"value": "no-indent",
					"label": "t:sections.all.section-margin.options__1.label"
				},
				{
					"value": "xs",
					"label": "t:sections.all.section-margin.options__2.label"
				},
				{
					"value": "s",
					"label": "t:sections.all.section-margin.options__3.label"
				},
				{
					"value": "m",
					"label": "t:sections.all.section-margin.options__4.label"
				},
				{
					"value": "l",
					"label": "t:sections.all.section-margin.options__5.label"
				},
				{
					"value": "xl",
					"label": "t:sections.all.section-margin.options__6.label"
				}
			],
			"default": "m",
			"label": "t:sections.all.section-margin.margin_bottom.label"
		}
	]
}
{% endschema %}
